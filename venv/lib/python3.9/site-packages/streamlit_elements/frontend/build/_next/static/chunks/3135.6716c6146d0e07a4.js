"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3135],{213135:function(e,n,o){o.r(n),o.d(n,{ResponsiveScatterPlot:function(){return Y},ResponsiveScatterPlotCanvas:function(){return A},ScatterPlot:function(){return X},ScatterPlotCanvas:function(){return O},canvasDefaultProps:function(){return L},commonDefaultProps:function(){return j},svgDefaultProps:function(){return z},useScatterPlot:function(){return C},useScatterPlotAnnotations:function(){return I}});var t=o(667294),i=o(543060),r=o(475370),a=o(569680),s=o(649446),l=o(75837),d=o(43790),u=o(227361),c=o.n(u),h=o(747037),f=o.n(h),v=o(281763),m=o.n(v),g=o(968630),x=o.n(g),p=o(66871),y=o(281472),M=o(785893),b=o(449742),S=o(34887);function k(){return k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},k.apply(this,arguments)}function w(e,n){if(null==e)return{};var o,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)o=r[t],n.indexOf(o)>=0||(i[o]=e[o]);return i}var C=function(e){var n,o=e.data,r=e.xScaleSpec,a=e.xFormat,d=e.yScaleSpec,u=e.yFormat,h=e.width,v=e.height,g=e.nodeId,y=e.nodeSize,M=e.colors,b=(0,t.useMemo)((function(){return(0,l.Gi)(o,r,d,h,v)}),[o,r,d,h,v]),S=b.series,w=b.xScale,C=b.yScale,I=(0,i.O_)(a),E=(0,i.O_)(u),j=(0,i.LR)(g),z=(0,t.useMemo)((function(){return function(e){var n=e.formatX,o=e.formatY,t=e.getNodeId,i=[];return e.series.forEach((function(e){e.data.forEach((function(r,a){var s={index:i.length,serieIndex:a,serieId:e.id,x:r.position.x,xValue:r.data.x,formattedX:n(r.data.x),y:r.position.y,yValue:r.data.y,formattedY:o(r.data.y),data:r.data};i.push(k({},s,{id:t(s)}))}))})),i}({series:S,formatX:I,formatY:E,getNodeId:j})}),[S,I,E,j]),L=(0,t.useMemo)((function(){return function(e){if("function"==typeof e)return e;if(m()(e))return function(){return e};if(function(e){return x()(e)}(e)){if(!f()(e.key))throw new Error("symbolSize is invalid, key should be a string pointing to the property to use to determine node size");if(!Array.isArray(e.values)||2!==e.values.length)throw new Error("symbolSize is invalid, values spec should be an array containing two values, min and max");if(!Array.isArray(e.sizes)||2!==e.sizes.length)throw new Error("symbolSize is invalid, sizes spec should be an array containing two values, min and max");var n=(0,p.Z)().domain([e.values[0],e.values[1]]).range([e.sizes[0],e.sizes[1]]);return function(o){return n(c()(o,e.key))}}throw new Error("nodeSize is invalid, it should be either a function, a number or an object")}(n)}),[n=y]),W=(0,s.U)(M,"serieId");return{xScale:w,yScale:C,nodes:(0,t.useMemo)((function(){return z.map((function(e){return k({},e,{size:L(e),color:W({serieId:e.serieId})})}))}),[z,L,W]),legendData:(0,t.useMemo)((function(){return S.map((function(e){return{id:e.id,label:e.id,color:W({serieId:e.id})}}))}),[S,W])}},I=function(e,n){return(0,d.O2)({data:e,annotations:n,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){return{size:e.size,width:e.size,height:e.size}}})},E=function(e){return e/2},j={xScale:{type:"linear",min:0,max:"auto"},yScale:{type:"linear",min:0,max:"auto"},enableGridX:!0,enableGridY:!0,axisBottom:{},axisLeft:{},nodeId:function(e){return e.serieId+"."+e.index},nodeSize:9,nodeComponent:function(e){var n=e.node,o=e.style,i=e.blendMode,r=e.isInteractive,a=e.onMouseEnter,s=e.onMouseMove,l=e.onMouseLeave,d=e.onClick,u=(0,t.useCallback)((function(e){return null==a?void 0:a(n,e)}),[n,a]),c=(0,t.useCallback)((function(e){return null==s?void 0:s(n,e)}),[n,s]),h=(0,t.useCallback)((function(e){return null==l?void 0:l(n,e)}),[n,l]),f=(0,t.useCallback)((function(e){return null==d?void 0:d(n,e)}),[n,d]);return(0,M.jsx)(y.animated.circle,{cx:o.x,cy:o.y,r:o.size.to(E),fill:o.color,style:{mixBlendMode:i},onMouseEnter:r?u:void 0,onMouseMove:r?c:void 0,onMouseLeave:r?h:void 0,onClick:r?f:void 0})},colors:{scheme:"nivo"},isInteractive:!0,debugMesh:!1,tooltip:function(e){var n=e.node;return(0,M.jsx)(b._5,{id:n.serieId,value:"x: "+n.formattedX+", y: "+n.formattedY,enableChip:!0,color:n.color})},markers:[],legends:[],annotations:[]},z=k({},j,{blendMode:"normal",layers:["grid","axes","nodes","markers","mesh","legends","annotations"],role:"img",useMesh:!0,animate:!0,motionConfig:"default"}),L=k({},j,{layers:["grid","axes","nodes","mesh","legends","annotations"],pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,renderNode:function(e,n){e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.fillStyle=n.color,e.fill()}}),W=function(e){var n=e.nodes,o=e.annotations,t=I(n,o);return(0,M.jsx)(M.Fragment,{children:t.map((function(e,n){return(0,M.jsx)(d.q6,k({},e),n)}))})},F=function(e){return e.id},P=function(e){return{x:e.x,y:e.y,size:e.size,color:e.color}},B=function(e){return{x:e.x,y:e.y,size:0,color:e.color}},T=function(e){var n=e.nodes,o=e.nodeComponent,r=e.isInteractive,a=e.onMouseEnter,s=e.onMouseMove,l=e.onMouseLeave,d=e.onClick,u=e.tooltip,c=e.blendMode,h=(0,i.tf)(),f=h.animate,v=h.config,m=(0,y.useTransition)(n,{keys:F,from:P,enter:P,update:P,leave:B,config:v,immediate:!f}),g=(0,b.lL)(),x=g.showTooltipFromEvent,p=g.hideTooltip,S=(0,t.useCallback)((function(e,n){x((0,t.createElement)(u,{node:e}),n),null==a||a(e,n)}),[u,x,a]),k=(0,t.useCallback)((function(e,n){x((0,t.createElement)(u,{node:e}),n),null==s||s(e,n)}),[u,x,s]),w=(0,t.useCallback)((function(e,n){p(),null==l||l(e,n)}),[p,l]),C=(0,t.useCallback)((function(e,n){return null==d?void 0:d(e,n)}),[d]);return(0,M.jsx)(M.Fragment,{children:m((function(e,n){return(0,t.createElement)(o,{node:n,style:e,blendMode:c,isInteractive:r,onMouseEnter:r?S:void 0,onMouseMove:r?k:void 0,onMouseLeave:r?w:void 0,onClick:r?C:void 0})}))})},G=function(e){var n=e.nodes,o=e.width,i=e.height,r=e.onMouseEnter,a=e.onMouseMove,s=e.onMouseLeave,l=e.onClick,d=e.tooltip,u=e.debug,c=(0,b.lL)(),h=c.showTooltipFromEvent,f=c.hideTooltip,v=(0,t.useCallback)((function(e,n){h((0,t.createElement)(d,{node:e}),n),r&&r(e,n)}),[h,d,r]),m=(0,t.useCallback)((function(e,n){h((0,t.createElement)(d,{node:e}),n),a&&a(e,n)}),[h,d,a]),g=(0,t.useCallback)((function(e,n){f(),s&&s(e,n)}),[f,s]),x=(0,t.useCallback)((function(e,n){l&&l(e,n)}),[l]);return(0,M.jsx)(S.Mesh,{nodes:n,width:o,height:i,onMouseEnter:v,onMouseMove:m,onMouseLeave:g,onClick:x,debug:u})},R=["isInteractive","animate","motionConfig","theme","renderWrapper"],V=function(e){var n=e.data,o=e.xScale,s=void 0===o?z.xScale:o,l=e.xFormat,d=e.yScale,u=void 0===d?z.yScale:d,c=e.yFormat,h=e.width,f=e.height,v=e.margin,m=e.layers,g=void 0===m?z.layers:m,x=e.colors,p=void 0===x?z.colors:x,y=e.blendMode,b=void 0===y?z.blendMode:y,S=e.nodeId,w=void 0===S?z.nodeId:S,I=e.nodeSize,E=void 0===I?z.nodeSize:I,j=e.nodeComponent,L=void 0===j?z.nodeComponent:j,F=e.enableGridX,P=void 0===F?z.enableGridX:F,B=e.enableGridY,R=void 0===B?z.enableGridY:B,V=e.gridXValues,X=e.gridYValues,Y=e.axisTop,D=e.axisRight,H=e.axisBottom,O=void 0===H?z.axisBottom:H,A=e.axisLeft,N=void 0===A?z.axisLeft:A,_=e.annotations,U=void 0===_?z.annotations:_,Z=e.isInteractive,q=void 0===Z?z.isInteractive:Z,$=e.useMesh,J=void 0===$?z.useMesh:$,K=e.debugMesh,Q=void 0===K?z.debugMesh:K,ee=e.onMouseEnter,ne=e.onMouseMove,oe=e.onMouseLeave,te=e.onClick,ie=e.tooltip,re=void 0===ie?z.tooltip:ie,ae=e.markers,se=void 0===ae?z.markers:ae,le=e.legends,de=void 0===le?z.legends:le,ue=e.role,ce=void 0===ue?z.role:ue,he=e.ariaLabel,fe=e.ariaLabelledBy,ve=e.ariaDescribedBy,me=(0,i.Bs)(h,f,v),ge=me.margin,xe=me.innerWidth,pe=me.innerHeight,ye=me.outerWidth,Me=me.outerHeight,be=C({data:n,xScaleSpec:s,xFormat:l,yScaleSpec:u,yFormat:c,width:xe,height:pe,nodeId:w,nodeSize:E,colors:p}),Se=be.xScale,ke=be.yScale,we=be.nodes,Ce=be.legendData,Ie=(0,t.useMemo)((function(){return{xScale:Se,yScale:ke,nodes:we,margin:ge,innerWidth:xe,innerHeight:pe,outerWidth:ye,outerHeight:Me}}),[Se,ke,we,ge,xe,pe,ye,Me]),Ee={grid:null,axes:null,nodes:null,markers:null,mesh:null,annotations:null,legends:null};return g.includes("grid")&&(Ee.grid=(0,M.jsx)(r.rj,{width:xe,height:pe,xScale:P?Se:null,yScale:R?ke:null,xValues:V,yValues:X},"grid")),g.includes("axes")&&(Ee.axes=(0,M.jsx)(r.dk,{xScale:Se,yScale:ke,width:xe,height:pe,top:Y,right:D,bottom:O,left:N},"axes")),g.includes("nodes")&&(Ee.nodes=(0,M.jsx)(T,{nodes:we,nodeComponent:L,isInteractive:q,tooltip:re,blendMode:b,onMouseEnter:ee,onMouseMove:ne,onMouseLeave:oe,onClick:te},"nodes")),g.includes("markers")&&(Ee.markers=(0,M.jsx)(i.TL,{markers:se,width:xe,height:pe,xScale:Se,yScale:ke},"markers")),g.includes("mesh")&&q&&J&&(Ee.mesh=(0,M.jsx)(G,{nodes:we,width:xe,height:pe,onMouseEnter:ee,onMouseMove:ne,onMouseLeave:oe,onClick:te,tooltip:re,debug:Q},"mesh")),g.includes("annotations")&&(Ee.annotations=(0,M.jsx)(W,{nodes:we,annotations:U},"annotations")),g.includes("legends")&&(Ee.legends=de.map((function(e,n){return(0,M.jsx)(a.$6,k({},e,{containerWidth:xe,containerHeight:pe,data:Ce}),n)}))),(0,M.jsx)(i.tM,{width:ye,height:Me,margin:ge,role:ce,ariaLabel:he,ariaLabelledBy:fe,ariaDescribedBy:ve,children:g.map((function(e,n){if("string"==typeof e&&void 0!==Ee[e])return Ee[e];if("function"==typeof e)return(0,M.jsx)(t.Fragment,{children:(0,t.createElement)(e,Ie)},n);throw new Error("Unknown layer ("+e+")")}))})},X=function(e){var n=e.isInteractive,o=void 0===n?z.isInteractive:n,t=e.animate,r=void 0===t?z.animate:t,a=e.motionConfig,s=void 0===a?z.motionConfig:a,l=e.theme,d=e.renderWrapper,u=w(e,R);return(0,M.jsx)(i.W2,{animate:r,isInteractive:o,motionConfig:s,renderWrapper:d,theme:l,children:(0,M.jsx)(V,k({isInteractive:o},u))})},Y=function(e){return(0,M.jsx)(i.d,{children:function(n){var o=n.width,t=n.height;return(0,M.jsx)(X,k({width:o,height:t},e))}})},D=["isInteractive","renderWrapper","theme"],H=function(e){var n=e.data,o=e.xScale,s=void 0===o?L.xScale:o,l=e.xFormat,u=e.yScale,c=void 0===u?L.yScale:u,h=e.yFormat,f=e.width,v=e.height,m=e.margin,g=e.pixelRatio,x=void 0===g?L.pixelRatio:g,p=e.layers,y=void 0===p?L.layers:p,w=e.colors,E=void 0===w?L.colors:w,j=e.nodeId,W=void 0===j?z.nodeId:j,F=e.nodeSize,P=void 0===F?L.nodeSize:F,B=e.renderNode,T=void 0===B?L.renderNode:B,G=e.enableGridX,R=void 0===G?L.enableGridX:G,V=e.gridXValues,X=e.enableGridY,Y=void 0===X?L.enableGridY:X,D=e.gridYValues,H=e.axisTop,O=e.axisRight,A=e.axisBottom,N=void 0===A?L.axisBottom:A,_=e.axisLeft,U=void 0===_?L.axisLeft:_,Z=e.annotations,q=void 0===Z?L.annotations:Z,$=e.isInteractive,J=void 0===$?L.isInteractive:$,K=e.debugMesh,Q=void 0===K?L.debugMesh:K,ee=e.onMouseEnter,ne=e.onMouseMove,oe=e.onMouseLeave,te=e.onClick,ie=e.tooltip,re=void 0===ie?L.tooltip:ie,ae=e.legends,se=void 0===ae?L.legends:ae,le=(0,t.useRef)(null),de=(0,i.Fg)(),ue=(0,t.useState)(null),ce=ue[0],he=ue[1],fe=(0,i.Bs)(f,v,m),ve=fe.margin,me=fe.innerWidth,ge=fe.innerHeight,xe=fe.outerWidth,pe=fe.outerHeight,ye=C({data:n,xScaleSpec:s,xFormat:l,yScaleSpec:c,yFormat:h,width:me,height:ge,nodeId:W,nodeSize:P,colors:E}),Me=ye.xScale,be=ye.yScale,Se=ye.nodes,ke=ye.legendData,we=I(Se,q),Ce=(0,S.useVoronoiMesh)({points:Se,width:me,height:ge,debug:Q}),Ie=Ce.delaunay,Ee=Ce.voronoi,je=(0,t.useMemo)((function(){return{xScale:Me,yScale:be,nodes:Se,margin:ve,innerWidth:me,innerHeight:ge,outerWidth:xe,outerHeight:pe}}),[Me,be,Se,ve,me,ge,xe,pe]);(0,t.useEffect)((function(){if(le.current){le.current.width=xe*x,le.current.height=pe*x;var e=le.current.getContext("2d");e.scale(x,x),e.fillStyle=de.background,e.fillRect(0,0,xe,pe),e.translate(ve.left,ve.top),y.forEach((function(n){if("grid"===n)e.lineWidth=de.grid.line.strokeWidth,e.strokeStyle=de.grid.line.stroke,R&&(0,r.FA)(e,{width:me,height:ge,scale:Me,axis:"x",values:V}),Y&&(0,r.FA)(e,{width:me,height:ge,scale:be,axis:"y",values:D});else if("annotations"===n)(0,d.dS)(e,{annotations:we,theme:de});else if("axes"===n)(0,r.DZ)(e,{xScale:Me,yScale:be,width:me,height:ge,top:H,right:O,bottom:N,left:U,theme:de});else if("nodes"===n)Se.forEach((function(n){T(e,n)}));else if("mesh"===n)Q&&((0,S.renderVoronoiToCanvas)(e,Ee),ce&&(0,S.renderVoronoiCellToCanvas)(e,Ee,ce.index));else if("legends"===n)se.forEach((function(n){(0,a.as)(e,k({},n,{data:ke,containerWidth:me,containerHeight:ge,theme:de}))}));else{if("function"!=typeof n)throw new Error("Invalid layer: "+n);n(e,je)}}))}}),[le,me,ge,xe,pe,ve.top,ve.left,x,T,y,je,de,Me,be,Se,R,Y,H,O,N,U,se,ke,Q,Ee,ce,we]);var ze=(0,b.lL)(),Le=ze.showTooltipFromEvent,We=ze.hideTooltip,Fe=(0,t.useCallback)((function(e){var n=(0,i.P6)(le.current,e),o=n[0],t=n[1];if(!(0,i.zn)(ve.left,ve.top,me,ge,o,t))return null;var r=Ie.find(o-ve.left,t-ve.top);return Se[r]}),[le,ve,me,ge,Ie]),Pe=(0,t.useCallback)((function(e){var n=Fe(e);he(n),n?(Le((0,t.createElement)(re,{node:n}),e),ce&&ce.id!==n.id&&(oe&&oe(ce,e),ee&&ee(n,e)),ce||ee&&ee(n,e),ne&&ne(n,e)):(We(),ce&&oe&&oe(ce,e))}),[Fe,ce,he,Le,We,re,ee,ne,oe]),Be=(0,t.useCallback)((function(e){We(),he(null),ce&&oe&&oe(ce,e)}),[We,ce,he,oe]),Te=(0,t.useCallback)((function(e){if(te){var n=Fe(e);n&&te(n,e)}}),[Fe,te]);return(0,M.jsx)("canvas",{ref:le,width:xe*x,height:pe*x,style:{width:xe,height:pe,cursor:J?"auto":"normal"},onMouseEnter:J?Pe:void 0,onMouseMove:J?Pe:void 0,onMouseLeave:J?Be:void 0,onClick:J?Te:void 0})},O=function(e){var n=e.isInteractive,o=e.renderWrapper,t=e.theme,r=w(e,D);return(0,M.jsx)(i.W2,{isInteractive:n,renderWrapper:o,theme:t,animate:!1,children:(0,M.jsx)(H,k({},r))})},A=function(e){return(0,M.jsx)(i.d,{children:function(n){var o=n.width,t=n.height;return(0,M.jsx)(O,k({width:o,height:t},e))}})}}}]);