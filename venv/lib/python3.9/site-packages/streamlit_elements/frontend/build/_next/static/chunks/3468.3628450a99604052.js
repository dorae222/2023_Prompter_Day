"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3468],{733468:function(e,r,t){t.r(r),t.d(r,{Funnel:function(){return W},ResponsiveFunnel:function(){return k},computePartsHandlers:function(){return S},computeScales:function(){return g},computeSeparators:function(){return m},computeShapeGenerators:function(){return b},svgDefaultProps:function(){return x},useFunnel:function(){return P},useFunnelAnnotations:function(){return C}});var o=t(667294),n=t(543060),a=t(337633),i=t(367249),s=t(118143),u=t(925049),p=t(66871),l=t(649446),d=t(43790),f=t(449742),c=t(785893),h=t(281472);function v(){return v=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},v.apply(this,arguments)}var x={layers:["separators","parts","labels","annotations"],direction:"vertical",interpolation:"smooth",spacing:0,shapeBlending:.66,colors:{scheme:"nivo"},fillOpacity:1,borderWidth:6,borderColor:{from:"color"},borderOpacity:.66,enableLabel:!0,labelColor:{theme:"background"},enableBeforeSeparators:!0,beforeSeparatorLength:0,beforeSeparatorOffset:0,enableAfterSeparators:!0,afterSeparatorLength:0,afterSeparatorOffset:0,annotations:[],isInteractive:!0,currentPartSizeExtension:0,role:"img",animate:n.FJ.defaultProps.animate,motionConfig:n.FJ.defaultProps.config},y=function(e){var r=e.part;return(0,c.jsx)(f._5,{id:r.data.label,value:r.formattedValue,color:r.color,enableChip:!0})},b=function(e,r){var t=(0,a.Z)();return"vertical"===r?t.curve("smooth"===e?i.ZP:s.Z).x0((function(e){return e.x0})).x1((function(e){return e.x1})).y((function(e){return e.y})):t.curve("smooth"===e?i.ZP:s.Z).y0((function(e){return e.y0})).y1((function(e){return e.y1})).x((function(e){return e.x})),[t,(0,u.Z)().defined((function(e){return null!==e})).x((function(e){return e.x})).y((function(e){return e.y})).curve("smooth"===e?i.ZP:s.Z)]},g=function(e){var r,t,o=e.data,n=e.direction,a=e.width,i=e.height,s=e.spacing;"vertical"===n?(r=i,t=a):(r=a,t=i);var u=(r-s*(o.length-1))/o.length,l=function(e){return s*e+u*e};l.bandwidth=u;var d=o.map((function(e){return e.value}));return[l,(0,p.Z)().domain([0,Math.max.apply(Math,d)]).range([0,t])]},m=function(e){var r=e.parts,t=e.direction,o=e.width,n=e.height,a=e.spacing,i=e.enableBeforeSeparators,s=e.beforeSeparatorOffset,u=e.enableAfterSeparators,p=e.afterSeparatorOffset,l=[],d=[],f=r[r.length-1];if("vertical"===t){r.forEach((function(e){var r=e.y0-a/2;i&&l.push({partId:e.data.id,x0:0,x1:e.x0-s,y0:r,y1:r}),u&&d.push({partId:e.data.id,x0:e.x1+p,x1:o,y0:r,y1:r})}));var c=f.y1;i&&l.push(v({},l[l.length-1],{partId:"none",y0:c,y1:c})),u&&d.push(v({},d[d.length-1],{partId:"none",y0:c,y1:c}))}else if("horizontal"===t){r.forEach((function(e){var r=e.x0-a/2;l.push({partId:e.data.id,x0:r,x1:r,y0:0,y1:e.y0-s}),d.push({partId:e.data.id,x0:r,x1:r,y0:e.y1+p,y1:n})}));var h=f.x1;l.push(v({},l[l.length-1],{partId:"none",x0:h,x1:h})),d.push(v({},d[d.length-1],{partId:"none",x0:h,x1:h}))}return[l,d]},S=function(e){var r=e.parts,t=e.setCurrentPartId,n=e.isInteractive,a=e.onMouseEnter,i=e.onMouseLeave,s=e.onMouseMove,u=e.onClick,p=e.showTooltipFromEvent,l=e.hideTooltip,d=e.tooltip,f=void 0===d?y:d;return n?r.map((function(e){return v({},e,{onMouseEnter:function(r){t(e.data.id),p((0,o.createElement)(f,{part:e}),r),void 0!==a&&a(e,r)},onMouseLeave:function(r){t(null),l(),void 0!==i&&i(e,r)},onMouseMove:function(r){p((0,o.createElement)(f,{part:e}),r),void 0!==s&&s(e,r)},onClick:void 0!==u?function(r){u(e,r)}:void 0})})):r},P=function(e){var r,t,a=e.data,i=e.width,s=e.height,u=e.direction,p=void 0===u?x.direction:u,d=e.interpolation,c=void 0===d?x.interpolation:d,h=e.spacing,y=void 0===h?x.spacing:h,P=e.shapeBlending,C=void 0===P?x.shapeBlending:P,M=e.valueFormat,O=e.colors,L=void 0===O?x.colors:O,j=e.fillOpacity,I=void 0===j?x.fillOpacity:j,E=e.borderWidth,w=void 0===E?x.borderWidth:E,B=e.borderColor,F=void 0===B?x.borderColor:B,W=e.borderOpacity,k=void 0===W?x.borderOpacity:W,G=e.labelColor,A=void 0===G?x.labelColor:G,Z=e.enableBeforeSeparators,z=void 0===Z?x.enableBeforeSeparators:Z,T=e.beforeSeparatorLength,_=void 0===T?x.beforeSeparatorLength:T,D=e.beforeSeparatorOffset,N=void 0===D?x.beforeSeparatorOffset:D,H=e.enableAfterSeparators,V=void 0===H?x.enableAfterSeparators:H,J=e.afterSeparatorLength,q=void 0===J?x.afterSeparatorLength:J,R=e.afterSeparatorOffset,U=void 0===R?x.afterSeparatorOffset:R,K=e.isInteractive,Q=void 0===K?x.isInteractive:K,X=e.currentPartSizeExtension,Y=void 0===X?x.currentPartSizeExtension:X,$=e.currentBorderWidth,ee=e.onMouseEnter,re=e.onMouseMove,te=e.onMouseLeave,oe=e.onClick,ne=e.tooltip,ae=(0,n.Fg)(),ie=(0,l.U)(L,"id"),se=(0,l.Bf)(F,ae),ue=(0,l.Bf)(A,ae),pe=(0,n.O_)(M),le=(0,o.useMemo)((function(){return b(c,p)}),[c,p]),de=le[0],fe=le[1],ce=z?_+N:0,he=V?q+U:0;"vertical"===p?(r=i-ce-he,t=s):(r=i,t=s-ce-he);var ve=(0,o.useMemo)((function(){return g({data:a,direction:p,width:r,height:t,spacing:y})}),[a,p,r,t,y]),xe=ve[0],ye=ve[1],be=(0,o.useState)(null),ge=be[0],me=be[1],Se=(0,o.useMemo)((function(){var e=a.map((function(e,o){var n,a,i,s,u=e.id===ge;"vertical"===p?(n=ye(e.value),a=xe.bandwidth,s=ce+.5*(r-n),i=xe(o)):(n=xe.bandwidth,a=ye(e.value),s=xe(o),i=ce+.5*(t-a));var l=s+n,d=s+.5*n,f=i+a,c=i+.5*a,h={data:e,width:n,height:a,color:ie(e),fillOpacity:I,borderWidth:u&&void 0!==$?$:w,borderOpacity:k,formattedValue:pe(e.value),isCurrent:u,x:d,x0:s,x1:l,y:c,y0:i,y1:f,borderColor:"",labelColor:"",points:[],areaPoints:[],borderPoints:[]};return h.borderColor=se(h),h.labelColor=ue(h),h})),o=C/2;return e.forEach((function(r,t){var n=e[t+1];if("vertical"===p){r.points.push({x:r.x0,y:r.y0}),r.points.push({x:r.x1,y:r.y0}),n?(r.points.push({x:n.x1,y:r.y1}),r.points.push({x:n.x0,y:r.y1})):(r.points.push({x:r.points[1].x,y:r.y1}),r.points.push({x:r.points[0].x,y:r.y1})),r.isCurrent&&(r.points[0].x-=Y,r.points[1].x+=Y,r.points[2].x+=Y,r.points[3].x-=Y),r.areaPoints=[{x:0,x0:r.points[0].x,x1:r.points[1].x,y:r.y0,y0:0,y1:0}],r.areaPoints.push(v({},r.areaPoints[0],{y:r.y0+r.height*o}));var a={x:0,x0:r.points[3].x,x1:r.points[2].x,y:r.y1,y0:0,y1:0};r.areaPoints.push(v({},a,{y:r.y1-r.height*o})),r.areaPoints.push(a),[0,1,2,3].map((function(e){r.borderPoints.push({x:r.areaPoints[e].x0,y:r.areaPoints[e].y})})),r.borderPoints.push(null),[3,2,1,0].map((function(e){r.borderPoints.push({x:r.areaPoints[e].x1,y:r.areaPoints[e].y})}))}else{r.points.push({x:r.x0,y:r.y0}),n?(r.points.push({x:r.x1,y:n.y0}),r.points.push({x:r.x1,y:n.y1})):(r.points.push({x:r.x1,y:r.y0}),r.points.push({x:r.x1,y:r.y1})),r.points.push({x:r.x0,y:r.y1}),r.isCurrent&&(r.points[0].y-=Y,r.points[1].y-=Y,r.points[2].y+=Y,r.points[3].y+=Y),r.areaPoints=[{x:r.x0,x0:0,x1:0,y:0,y0:r.points[0].y,y1:r.points[3].y}],r.areaPoints.push(v({},r.areaPoints[0],{x:r.x0+r.width*o}));var i={x:r.x1,x0:0,x1:0,y:0,y0:r.points[1].y,y1:r.points[2].y};r.areaPoints.push(v({},i,{x:r.x1-r.width*o})),r.areaPoints.push(i),[0,1,2,3].map((function(e){r.borderPoints.push({x:r.areaPoints[e].x,y:r.areaPoints[e].y0})})),r.borderPoints.push(null),[3,2,1,0].map((function(e){r.borderPoints.push({x:r.areaPoints[e].x,y:r.areaPoints[e].y1})}))}})),e}),[a,p,ye,xe,r,t,ce,he,C,ie,pe,se,ue,ge]),Pe=(0,f.lL)(),Ce=Pe.showTooltipFromEvent,Me=Pe.hideTooltip,Oe=(0,o.useMemo)((function(){return S({parts:Se,setCurrentPartId:me,isInteractive:Q,onMouseEnter:ee,onMouseLeave:te,onMouseMove:re,onClick:oe,showTooltipFromEvent:Ce,hideTooltip:Me,tooltip:ne})}),[Se,me,Q,ee,te,re,oe,Ce,Me,ne]),Le=(0,o.useMemo)((function(){return m({parts:Se,direction:p,width:i,height:s,spacing:y,enableBeforeSeparators:z,beforeSeparatorOffset:N,enableAfterSeparators:V,afterSeparatorOffset:U})}),[Se,p,i,s,y,z,N,V,U]),je=Le[0],Ie=Le[1],Ee=(0,o.useMemo)((function(){return{width:i,height:s,parts:Oe,areaGenerator:de,borderGenerator:fe,beforeSeparators:je,afterSeparators:Ie,setCurrentPartId:me}}),[i,s,Oe,de,fe,je,Ie,me]);return{parts:Oe,areaGenerator:de,borderGenerator:fe,beforeSeparators:je,afterSeparators:Ie,setCurrentPartId:me,currentPartId:ge,customLayerProps:Ee}},C=function(e,r){return(0,d.O2)({data:e,annotations:r,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var r=e.width,t=e.height;return{size:Math.max(r,t),width:r,height:t}}})},M=function(e){var r=e.part,t=e.areaGenerator,o=e.borderGenerator,a=(0,n.tf)(),i=a.animate,s=a.config,u=(0,n.NS)(t(r.areaPoints)),p=(0,n.NS)(o(r.borderPoints)),l=(0,h.useSpring)({areaColor:r.color,borderWidth:r.borderWidth,borderColor:r.borderColor,config:s,immediate:!i});return(0,c.jsxs)(c.Fragment,{children:[r.borderWidth>0&&(0,c.jsx)(h.animated.path,{d:p,stroke:l.borderColor,strokeWidth:l.borderWidth,strokeOpacity:r.borderOpacity,fill:"none"}),(0,c.jsx)(h.animated.path,{d:u,fill:l.areaColor,fillOpacity:r.fillOpacity,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onMouseMove:r.onMouseMove,onClick:r.onClick})]})},O=function(e){var r=e.parts,t=e.areaGenerator,o=e.borderGenerator;return(0,c.jsx)(c.Fragment,{children:r.map((function(e){return(0,c.jsx)(M,{part:e,areaGenerator:t,borderGenerator:o},e.data.id)}))})},L=function(e){var r=e.part,t=(0,n.Fg)(),o=(0,n.tf)(),a=o.animate,i=o.config,s=(0,h.useSpring)({transform:"translate("+r.x+", "+r.y+")",color:r.labelColor,config:i,immediate:!a});return(0,c.jsx)(h.animated.g,{transform:s.transform,children:(0,c.jsx)(h.animated.text,{textAnchor:"middle",dominantBaseline:"central",style:v({},t.labels.text,{fill:s.color,pointerEvents:"none"}),children:r.formattedValue})})},j=function(e){var r=e.parts;return(0,c.jsx)(c.Fragment,{children:r.map((function(e){return(0,c.jsx)(L,{part:e},e.data.id)}))})},I=function(e){var r=e.separator,t=(0,n.Fg)(),o=(0,n.tf)(),a=o.animate,i=o.config,s=(0,h.useSpring)({x1:r.x0,x2:r.x1,y1:r.y0,y2:r.y1,config:i,immediate:!a});return(0,c.jsx)(h.animated.line,v({x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2,fill:"none"},t.grid.line))},E=function(e){var r=e.beforeSeparators,t=e.afterSeparators;return(0,c.jsxs)(c.Fragment,{children:[r.map((function(e){return(0,c.jsx)(I,{separator:e},e.partId)})),t.map((function(e){return(0,c.jsx)(I,{separator:e},e.partId)}))]})},w=function(e){var r=e.parts,t=e.annotations,o=C(r,t);return(0,c.jsx)(c.Fragment,{children:o.map((function(e,r){return(0,c.jsx)(d.q6,v({},e),r)}))})},B=["isInteractive","animate","motionConfig","theme","renderWrapper"],F=function(e){var r=e.data,t=e.width,a=e.height,i=e.margin,s=e.direction,u=void 0===s?x.direction:s,p=e.interpolation,l=void 0===p?x.interpolation:p,d=e.spacing,f=void 0===d?x.spacing:d,h=e.shapeBlending,v=void 0===h?x.shapeBlending:h,y=e.valueFormat,b=e.colors,g=void 0===b?x.colors:b,m=e.fillOpacity,S=void 0===m?x.fillOpacity:m,C=e.borderWidth,M=void 0===C?x.borderWidth:C,L=e.borderColor,I=void 0===L?x.borderColor:L,B=e.borderOpacity,F=void 0===B?x.borderOpacity:B,W=e.enableLabel,k=void 0===W?x.enableLabel:W,G=e.labelColor,A=void 0===G?x.labelColor:G,Z=e.enableBeforeSeparators,z=void 0===Z?x.enableBeforeSeparators:Z,T=e.beforeSeparatorLength,_=void 0===T?x.beforeSeparatorLength:T,D=e.beforeSeparatorOffset,N=void 0===D?x.beforeSeparatorOffset:D,H=e.enableAfterSeparators,V=void 0===H?x.enableAfterSeparators:H,J=e.afterSeparatorLength,q=void 0===J?x.afterSeparatorLength:J,R=e.afterSeparatorOffset,U=void 0===R?x.afterSeparatorOffset:R,K=e.layers,Q=void 0===K?x.layers:K,X=e.annotations,Y=void 0===X?x.annotations:X,$=e.isInteractive,ee=void 0===$?x.isInteractive:$,re=e.currentPartSizeExtension,te=void 0===re?x.currentPartSizeExtension:re,oe=e.currentBorderWidth,ne=e.onMouseEnter,ae=e.onMouseMove,ie=e.onMouseLeave,se=e.onClick,ue=e.tooltip,pe=e.role,le=void 0===pe?x.role:pe,de=e.ariaLabel,fe=e.ariaLabelledBy,ce=e.ariaDescribedBy,he=(0,n.Bs)(t,a,i),ve=he.margin,xe=he.innerWidth,ye=he.innerHeight,be=he.outerWidth,ge=he.outerHeight,me=P({data:r,width:xe,height:ye,direction:u,interpolation:l,spacing:f,shapeBlending:v,valueFormat:y,colors:g,fillOpacity:S,borderWidth:M,borderColor:I,borderOpacity:F,labelColor:A,enableBeforeSeparators:z,beforeSeparatorLength:_,beforeSeparatorOffset:N,enableAfterSeparators:V,afterSeparatorLength:q,afterSeparatorOffset:U,isInteractive:ee,currentPartSizeExtension:te,currentBorderWidth:oe,onMouseEnter:ne,onMouseMove:ae,onMouseLeave:ie,onClick:se,tooltip:ue}),Se=me.areaGenerator,Pe=me.borderGenerator,Ce=me.parts,Me=me.beforeSeparators,Oe=me.afterSeparators,Le=me.customLayerProps,je={separators:null,parts:null,annotations:null,labels:null};return Q.includes("separators")&&(je.separators=(0,c.jsx)(E,{beforeSeparators:Me,afterSeparators:Oe},"separators")),Q.includes("parts")&&(je.parts=(0,c.jsx)(O,{parts:Ce,areaGenerator:Se,borderGenerator:Pe},"parts")),null!=Q&&Q.includes("annotations")&&(je.annotations=(0,c.jsx)(w,{parts:Ce,annotations:Y},"annotations")),Q.includes("labels")&&k&&(je.labels=(0,c.jsx)(j,{parts:Ce},"labels")),(0,c.jsx)(n.tM,{width:be,height:ge,margin:ve,role:le,ariaLabel:de,ariaLabelledBy:fe,ariaDescribedBy:ce,children:Q.map((function(e,r){var t;return"function"==typeof e?(0,c.jsx)(o.Fragment,{children:(0,o.createElement)(e,Le)},r):null!=(t=null==je?void 0:je[e])?t:null}))})},W=function(e){var r=e.isInteractive,t=void 0===r?x.isInteractive:r,o=e.animate,a=void 0===o?x.animate:o,i=e.motionConfig,s=void 0===i?x.motionConfig:i,u=e.theme,p=e.renderWrapper,l=function(e,r){if(null==e)return{};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,B);return(0,c.jsx)(n.W2,{animate:a,isInteractive:t,motionConfig:s,renderWrapper:p,theme:u,children:(0,c.jsx)(F,v({isInteractive:t},l))})},k=function(e){return(0,c.jsx)(n.d,{children:function(r){var t=r.width,o=r.height;return(0,c.jsx)(W,v({width:t,height:o},e))}})}}}]);