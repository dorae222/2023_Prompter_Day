"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5163],{375163:function(e,r,i){i.r(r),i.d(r,{Line:function(){return Z},LineCanvas:function(){return J},LineCanvasDefaultProps:function(){return T},LineCanvasPropTypes:function(){return O},LineDefaultProps:function(){return M},LinePropTypes:function(){return C},ResponsiveLine:function(){return U},ResponsiveLineCanvas:function(){return K},useAreaGenerator:function(){return k},useLine:function(){return B},useLineGenerator:function(){return j},useSlices:function(){return w}});var n=i(667294),t=i(543060),o=i(649446),a=i(475370),s=i(569680),l=i(449742),u=i(925049),c=i(337633),d=i(75837),f=i(45697),p=i.n(f),h=i(785893),b=i(281472),y=i(34887);function g(){return g=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},g.apply(this,arguments)}var m=function(e){var r=e.point;return(0,h.jsx)(l._5,{id:(0,h.jsxs)("span",{children:["x: ",(0,h.jsx)("strong",{children:r.data.xFormatted}),", y:"," ",(0,h.jsx)("strong",{children:r.data.yFormatted})]}),enableChip:!0,color:r.serieColor})};m.propTypes={point:p().object.isRequired};var x=(0,n.memo)(m),v=function(e){var r=e.slice,i=e.axis,n=(0,t.Fg)(),o="x"===i?"y":"x";return(0,h.jsx)(l.zI,{rows:r.points.map((function(e){return[(0,h.jsx)(l.Af,{color:e.serieColor,style:n.tooltip.chip},"chip"),e.serieId,(0,h.jsx)("span",{style:n.tooltip.tableCellValue,children:e.data[o+"Formatted"]},"value")]}))})};v.propTypes={slice:p().object.isRequired,axis:p().oneOf(["x","y"]).isRequired};var R=(0,n.memo)(v),q={data:p().arrayOf(p().shape({id:p().oneOfType([p().string,p().number]).isRequired,data:p().arrayOf(p().shape({x:p().oneOfType([p().number,p().string,p().instanceOf(Date)]),y:p().oneOfType([p().number,p().string,p().instanceOf(Date)])})).isRequired})).isRequired,xScale:p().object.isRequired,xFormat:p().oneOfType([p().func,p().string]),yScale:p().object.isRequired,yFormat:p().oneOfType([p().func,p().string]),layers:p().arrayOf(p().oneOfType([p().oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),p().func])).isRequired,curve:t.VZ.isRequired,axisTop:a.VT,axisRight:a.VT,axisBottom:a.VT,axisLeft:a.VT,enableGridX:p().bool.isRequired,enableGridY:p().bool.isRequired,gridXValues:p().oneOfType([p().number,p().arrayOf(p().oneOfType([p().number,p().string,p().instanceOf(Date)]))]),gridYValues:p().oneOfType([p().number,p().arrayOf(p().oneOfType([p().number,p().string,p().instanceOf(Date)]))]),enablePoints:p().bool.isRequired,pointSymbol:p().func,pointSize:p().number.isRequired,pointColor:p().any.isRequired,pointBorderWidth:p().number.isRequired,pointBorderColor:p().any.isRequired,enablePointLabel:p().bool.isRequired,pointLabel:p().oneOfType([p().string,p().func]).isRequired,markers:p().arrayOf(p().shape({axis:p().oneOf(["x","y"]).isRequired,value:p().oneOfType([p().number,p().string,p().instanceOf(Date)]).isRequired,style:p().object})),colors:o.qi.isRequired,enableArea:p().bool.isRequired,areaOpacity:p().number.isRequired,areaBlendMode:t.wM.isRequired,areaBaselineValue:p().oneOfType([p().number,p().string,p().instanceOf(Date)]).isRequired,lineWidth:p().number.isRequired,legends:p().arrayOf(p().shape(s.iQ)).isRequired,isInteractive:p().bool.isRequired,debugMesh:p().bool.isRequired,tooltip:p().oneOfType([p().func,p().object]).isRequired,enableSlices:p().oneOf(["x","y",!1]).isRequired,debugSlices:p().bool.isRequired,sliceTooltip:p().oneOfType([p().func,p().object]).isRequired,enableCrosshair:p().bool.isRequired,crosshairType:p().string.isRequired},C=g({},q,{enablePointLabel:p().bool.isRequired,role:p().string.isRequired,useMesh:p().bool.isRequired},t.w$,t._U),O=g({pixelRatio:p().number.isRequired},q),S={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:x,enableSlices:!1,debugSlices:!1,sliceTooltip:R,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},M=g({},S,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),T=g({},S,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),j=function(e){var r=e.curve;return(0,n.useMemo)((function(){return(0,u.Z)().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve((0,t.Bg)(r))}),[r])},k=function(e){var r=e.curve,i=e.yScale,o=e.areaBaselineValue;return(0,n.useMemo)((function(){return(0,c.Z)().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve((0,t.Bg)(r)).y0(i(o))}),[r,i,o])},w=function(e){var r=e.enableSlices,i=e.points,t=e.width,o=e.height;return(0,n.useMemo)((function(){if(!1===r)return[];if("x"===r){var e=new Map;return i.forEach((function(r){null!==r.data.x&&null!==r.data.y&&(e.has(r.x)?e.get(r.x).push(r):e.set(r.x,[r]))})),Array.from(e.entries()).sort((function(e,r){return e[0]-r[0]})).map((function(e,r,i){var n,a=e[0],s=e[1],l=i[r-1],u=i[r+1];return{id:a,x0:n=l?a-(a-l[0])/2:a,x:a,y0:0,y:0,width:u?a-n+(u[0]-a)/2:t-n,height:o,points:s.reverse()}}))}if("y"===r){var n=new Map;return i.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(n.has(e.y)?n.get(e.y).push(e):n.set(e.y,[e]))})),Array.from(n.entries()).sort((function(e,r){return e[0]-r[0]})).map((function(e,r,i){var n,a,s=e[0],l=e[1],u=i[r-1],c=i[r+1];return n=u?s-(s-u[0])/2:s,a=c?s-n+(c[0]-s)/2:o-n,{id:s,x0:0,x:0,y0:n,y:s,width:t,height:a,points:l.reverse()}}))}}),[r,i])},B=function(e){var r=e.data,i=e.xScale,a=void 0===i?M.xScale:i,s=e.xFormat,l=e.yScale,u=void 0===l?M.yScale:l,c=e.yFormat,f=e.width,p=e.height,h=e.colors,b=void 0===h?M.colors:h,y=e.curve,m=void 0===y?M.curve:y,x=e.areaBaselineValue,v=void 0===x?M.areaBaselineValue:x,R=e.pointColor,q=void 0===R?M.pointColor:R,C=e.pointBorderColor,O=void 0===C?M.pointBorderColor:C,S=e.enableSlices,T=void 0===S?M.enableSlicesTooltip:S,B=(0,t.O_)(s),L=(0,t.O_)(c),W=(0,o.U)(b,"id"),G=(0,t.Fg)(),P=(0,o.Bf)(q,G),F=(0,o.Bf)(O,G),V=(0,n.useState)([]),E=V[0],D=V[1],Y=(0,n.useMemo)((function(){return(0,d.Gi)(r.filter((function(e){return-1===E.indexOf(e.id)})),a,u,f,p)}),[r,E,a,u,f,p]),A=Y.xScale,z=Y.yScale,X=Y.series,_=(0,n.useMemo)((function(){var e=r.map((function(e){return{id:e.id,label:e.id,color:W(e)}})),i=e.map((function(e){return g({},X.find((function(r){return r.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return g({},e,{hidden:!i.find((function(r){return r.id===e.id}))})})).reverse(),series:i}}),[r,X,W]),H=_.legendData,I=_.series,N=(0,n.useCallback)((function(e){D((function(r){return r.indexOf(e)>-1?r.filter((function(r){return r!==e})):[].concat(r,[e])}))}),[]),Z=function(e){var r=e.series,i=e.getPointColor,t=e.getPointBorderColor,o=e.formatX,a=e.formatY;return(0,n.useMemo)((function(){return r.reduce((function(e,r){return[].concat(e,r.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(n,s){var l={id:r.id+"."+s,index:e.length+s,serieId:r.id,serieColor:r.color,x:n.position.x,y:n.position.y};return l.color=i(r),l.borderColor=t(l),l.data=g({},n.data,{xFormatted:o(n.data.x),yFormatted:a(n.data.y)}),l})))}),[])}),[r,i,t,o,a])}({series:I,getPointColor:P,getPointBorderColor:F,formatX:B,formatY:L}),U=w({enableSlices:T,points:Z,width:f,height:p});return{legendData:H,toggleSerie:N,lineGenerator:j({curve:m}),areaGenerator:k({curve:m,yScale:z,areaBaselineValue:v}),getColor:W,series:I,xScale:A,yScale:z,slices:U,points:Z}},L=function(e){var r=e.areaBlendMode,i=e.areaOpacity,n=e.color,o=e.fill,a=e.path,s=(0,t.tf)(),l=s.animate,u=s.config,c=(0,t.NS)(a),d=(0,b.useSpring)({color:n,config:u,immediate:!l});return(0,h.jsx)(b.animated.path,{d:c,fill:o||d.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:r}})};L.propTypes={areaBlendMode:t.wM.isRequired,areaOpacity:p().number.isRequired,color:p().string,fill:p().string,path:p().string.isRequired};var W=function(e){var r=e.areaGenerator,i=e.areaOpacity,n=e.areaBlendMode,t=e.lines.slice(0).reverse();return(0,h.jsx)("g",{children:t.map((function(e){return(0,h.jsx)(L,g({path:r(e.data.map((function(e){return e.position})))},g({areaOpacity:i,areaBlendMode:n},e)),e.id)}))})};W.propTypes={areaGenerator:p().func.isRequired,areaOpacity:p().number.isRequired,areaBlendMode:t.wM.isRequired,lines:p().arrayOf(p().object).isRequired};var G=(0,n.memo)(W),P=function(e){var r=e.lineGenerator,i=e.points,o=e.color,a=e.thickness,s=(0,n.useMemo)((function(){return r(i)}),[r,i]),l=(0,t.NS)(s);return(0,h.jsx)(b.animated.path,{d:l,fill:"none",strokeWidth:a,stroke:o})};P.propTypes={points:p().arrayOf(p().shape({x:p().oneOfType([p().string,p().number]),y:p().oneOfType([p().string,p().number])})),lineGenerator:p().func.isRequired,color:p().string.isRequired,thickness:p().number.isRequired};var F=(0,n.memo)(P),V=function(e){var r=e.lines,i=e.lineGenerator,n=e.lineWidth;return r.slice(0).reverse().map((function(e){var r=e.id,t=e.data,o=e.color;return(0,h.jsx)(F,{id:r,points:t.map((function(e){return e.position})),lineGenerator:i,color:o,thickness:n},r)}))};V.propTypes={lines:p().arrayOf(p().shape({id:p().oneOfType([p().string,p().number]).isRequired,color:p().string.isRequired,data:p().arrayOf(p().shape({data:p().shape({x:p().oneOfType([p().string,p().number,p().instanceOf(Date)]),y:p().oneOfType([p().string,p().number,p().instanceOf(Date)])}).isRequired,position:p().shape({x:p().number,y:p().number}).isRequired})).isRequired})).isRequired,lineWidth:p().number.isRequired,lineGenerator:p().func.isRequired};var E=(0,n.memo)(V),D=function(e){var r=e.slice,i=e.axis,t=e.debug,o=e.tooltip,a=e.isCurrent,s=e.setCurrent,u=(0,l.lL)(),c=u.showTooltipFromEvent,d=u.hideTooltip,f=(0,n.useCallback)((function(e){c((0,n.createElement)(o,{slice:r,axis:i}),e,"right"),s(r)}),[c,o,r]),p=(0,n.useCallback)((function(e){c((0,n.createElement)(o,{slice:r,axis:i}),e,"right")}),[c,o,r]),b=(0,n.useCallback)((function(){d(),s(null)}),[d]);return(0,h.jsx)("rect",{x:r.x0,y:r.y0,width:r.width,height:r.height,stroke:"red",strokeWidth:t?1:0,strokeOpacity:.75,fill:"red",fillOpacity:a&&t?.35:0,onMouseEnter:f,onMouseMove:p,onMouseLeave:b})};D.propTypes={slice:p().object.isRequired,axis:p().oneOf(["x","y"]).isRequired,debug:p().bool.isRequired,height:p().number.isRequired,tooltip:p().oneOfType([p().func,p().object]),isCurrent:p().bool.isRequired,setCurrent:p().func.isRequired};var Y=(0,n.memo)(D),A=function(e){var r=e.slices,i=e.axis,n=e.debug,t=e.height,o=e.tooltip,a=e.current,s=e.setCurrent;return r.map((function(e){return(0,h.jsx)(Y,{slice:e,axis:i,debug:n,height:t,tooltip:o,setCurrent:s,isCurrent:null!==a&&a.id===e.id},e.id)}))};A.propTypes={slices:p().arrayOf(p().shape({id:p().oneOfType([p().number,p().string,p().instanceOf(Date)]).isRequired,x:p().number.isRequired,y:p().number.isRequired,points:p().arrayOf(p().object).isRequired})).isRequired,axis:p().oneOf(["x","y"]).isRequired,debug:p().bool.isRequired,height:p().number.isRequired,tooltip:p().oneOfType([p().func,p().object]).isRequired,current:p().object,setCurrent:p().func.isRequired};var z=(0,n.memo)(A),X=function(e){var r=e.points,i=e.symbol,n=e.size,o=e.borderWidth,a=e.enableLabel,s=e.label,l=e.labelYOffset,u=(0,t.Fg)(),c=(0,t.ji)(s),d=r.reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:a?c(e.data):null}}));return(0,h.jsx)("g",{children:d.map((function(e){return(0,h.jsx)(t.F_,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:n,color:e.fill,borderWidth:o,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:u},e.id)}))})};X.propTypes={points:p().arrayOf(p().object),symbol:p().func,size:p().number.isRequired,color:p().func.isRequired,borderWidth:p().number.isRequired,borderColor:p().func.isRequired,enableLabel:p().bool.isRequired,label:p().oneOfType([p().string,p().func]).isRequired,labelYOffset:p().number};var _=(0,n.memo)(X),H=function(e){var r=e.points,i=e.width,t=e.height,o=e.margin,a=e.setCurrent,s=e.onMouseEnter,u=e.onMouseMove,c=e.onMouseLeave,d=e.onClick,f=e.tooltip,p=e.debug,b=(0,l.lL)(),g=b.showTooltipAt,m=b.hideTooltip,x=(0,n.useCallback)((function(e,r){g((0,n.createElement)(f,{point:e}),[e.x+o.left,e.y+o.top],"top"),a(e),s&&s(e,r)}),[a,g,f,s,o]),v=(0,n.useCallback)((function(e,r){g((0,n.createElement)(f,{point:e}),[e.x+o.left,e.y+o.top],"top"),a(e),u&&u(e,r)}),[a,g,f,u]),R=(0,n.useCallback)((function(e,r){m(),a(null),c&&c(e,r)}),[m,a,c]),q=(0,n.useCallback)((function(e,r){d&&d(e,r)}),[d]);return(0,h.jsx)(y.Mesh,{nodes:r,width:i,height:t,onMouseEnter:x,onMouseMove:v,onMouseLeave:R,onClick:q,debug:p})};H.propTypes={points:p().arrayOf(p().object).isRequired,width:p().number.isRequired,height:p().number.isRequired,margin:p().object.isRequired,setCurrent:p().func.isRequired,onMouseEnter:p().func,onMouseMove:p().func,onMouseLeave:p().func,onClick:p().func,tooltip:p().oneOfType([p().func,p().object]).isRequired,debug:p().bool.isRequired};var I=(0,n.memo)(H),N=function(e){var r=e.data,i=e.xScale,u=e.xFormat,c=e.yScale,d=e.yFormat,f=e.layers,p=e.curve,b=e.areaBaselineValue,y=e.colors,m=e.margin,x=e.width,v=e.height,R=e.axisTop,q=e.axisRight,C=e.axisBottom,O=e.axisLeft,S=e.enableGridX,M=e.enableGridY,T=e.gridXValues,j=e.gridYValues,k=e.lineWidth,w=e.enableArea,L=e.areaOpacity,W=e.areaBlendMode,P=e.enablePoints,F=e.pointSymbol,V=e.pointSize,D=e.pointColor,Y=e.pointBorderWidth,A=e.pointBorderColor,X=e.enablePointLabel,H=e.pointLabel,N=e.pointLabelYOffset,Z=e.defs,U=e.fill,$=e.markers,Q=e.legends,J=e.isInteractive,K=e.useMesh,ee=e.debugMesh,re=e.onMouseEnter,ie=e.onMouseMove,ne=e.onMouseLeave,te=e.onClick,oe=e.tooltip,ae=e.enableSlices,se=e.debugSlices,le=e.sliceTooltip,ue=e.enableCrosshair,ce=e.crosshairType,de=e.role,fe=(0,t.Bs)(x,v,m),pe=fe.margin,he=fe.innerWidth,be=fe.innerHeight,ye=fe.outerWidth,ge=fe.outerHeight,me=B({data:r,xScale:i,xFormat:u,yScale:c,yFormat:d,width:he,height:be,colors:y,curve:p,areaBaselineValue:b,pointColor:D,pointBorderColor:A,enableSlices:ae}),xe=me.legendData,ve=me.toggleSerie,Re=me.lineGenerator,qe=me.areaGenerator,Ce=me.series,Oe=me.xScale,Se=me.yScale,Me=me.slices,Te=me.points,je=(0,t.Fg)(),ke=(0,o.Bf)(D,je),we=(0,o.Bf)(A,je),Be=(0,n.useState)(null),Le=Be[0],We=Be[1],Ge=(0,n.useState)(null),Pe=Ge[0],Fe=Ge[1],Ve={grid:(0,h.jsx)(a.rj,{theme:je,width:he,height:be,xScale:S?Oe:null,yScale:M?Se:null,xValues:T,yValues:j},"grid"),markers:(0,h.jsx)(t.TL,{markers:$,width:he,height:be,xScale:Oe,yScale:Se,theme:je},"markers"),axes:(0,h.jsx)(a.dk,{xScale:Oe,yScale:Se,width:he,height:be,theme:je,top:R,right:q,bottom:C,left:O},"axes"),areas:null,lines:(0,h.jsx)(E,{lines:Ce,lineGenerator:Re,lineWidth:k},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Q.map((function(e,r){return(0,h.jsx)(s.$6,g({},e,{containerWidth:he,containerHeight:be,data:e.data||xe,theme:je,toggleSerie:e.toggleSerie?ve:void 0}),"legend."+r)}))},Ee=(0,t.yU)(Z,Ce,U);return w&&(Ve.areas=(0,h.jsx)(G,{areaGenerator:qe,areaOpacity:L,areaBlendMode:W,lines:Ce},"areas")),J&&!1!==ae&&(Ve.slices=(0,h.jsx)(z,{slices:Me,axis:ae,debug:se,height:be,tooltip:le,current:Pe,setCurrent:Fe},"slices")),P&&(Ve.points=(0,h.jsx)(_,{points:Te,symbol:F,size:V,color:ke,borderWidth:Y,borderColor:we,enableLabel:X,label:H,labelYOffset:N},"points")),J&&ue&&(null!==Le&&(Ve.crosshair=(0,h.jsx)(l.YS,{width:he,height:be,x:Le.x,y:Le.y,type:ce},"crosshair")),null!==Pe&&(Ve.crosshair=(0,h.jsx)(l.YS,{width:he,height:be,x:Pe.x,y:Pe.y,type:ae},"crosshair"))),J&&K&&!1===ae&&(Ve.mesh=(0,h.jsx)(I,{points:Te,width:he,height:be,margin:pe,current:Le,setCurrent:We,onMouseEnter:re,onMouseMove:ie,onMouseLeave:ne,onClick:te,tooltip:oe,debug:ee},"mesh")),(0,h.jsx)(t.tM,{defs:Ee,width:ye,height:ge,margin:pe,role:de,children:f.map((function(r,i){return"function"==typeof r?(0,h.jsx)(n.Fragment,{children:r(g({},e,{innerWidth:he,innerHeight:be,series:Ce,slices:Me,points:Te,xScale:Oe,yScale:Se,lineGenerator:Re,areaGenerator:qe,currentPoint:Le,setCurrentPoint:We,currentSlice:Pe,setCurrentSlice:Fe}))},i):Ve[r]}))})};N.propTypes=C,N.defaultProps=M;var Z=(0,t.li)(N),U=function(e){return(0,h.jsx)(t.d,{children:function(r){var i=r.width,n=r.height;return(0,h.jsx)(Z,g({width:i,height:n},e))}})},$=function(e){var r=e.width,i=e.height,o=e.margin,u=e.pixelRatio,c=e.data,d=e.xScale,f=e.xFormat,p=e.yScale,b=e.yFormat,m=e.curve,x=e.layers,v=e.colors,R=e.lineWidth,q=e.enableArea,C=e.areaBaselineValue,O=e.areaOpacity,S=e.enablePoints,M=e.pointSize,T=e.pointColor,j=e.pointBorderWidth,k=e.pointBorderColor,w=e.enableGridX,L=e.gridXValues,W=e.enableGridY,G=e.gridYValues,P=e.axisTop,F=e.axisRight,V=e.axisBottom,E=e.axisLeft,D=e.legends,Y=e.isInteractive,A=e.debugMesh,z=e.onMouseLeave,X=e.onClick,_=e.tooltip,H=e.canvasRef,I=(0,n.useRef)(null),N=(0,t.Bs)(r,i,o),Z=N.margin,U=N.innerWidth,$=N.innerHeight,Q=N.outerWidth,J=N.outerHeight,K=(0,t.Fg)(),ee=(0,n.useState)(null),re=ee[0],ie=ee[1],ne=B({data:c,xScale:d,xFormat:f,yScale:p,yFormat:b,width:U,height:$,colors:v,curve:m,areaBaselineValue:C,pointColor:T,pointBorderColor:k}),te=ne.lineGenerator,oe=ne.areaGenerator,ae=ne.series,se=ne.xScale,le=ne.yScale,ue=ne.points,ce=(0,y.useVoronoiMesh)({points:ue,width:U,height:$,debug:A}),de=ce.delaunay,fe=ce.voronoi;(0,n.useEffect)((function(){H&&(H.current=I.current),I.current.width=Q*u,I.current.height=J*u;var e=I.current.getContext("2d");e.scale(u,u),e.fillStyle=K.background,e.fillRect(0,0,Q,J),e.translate(Z.left,Z.top),x.forEach((function(r){if("function"==typeof r&&r({ctx:e,innerWidth:U,innerHeight:$,series:ae,points:ue,xScale:se,yScale:le,lineWidth:R,lineGenerator:te,areaGenerator:oe,currentPoint:re,setCurrentPoint:ie}),"grid"===r&&K.grid.line.strokeWidth>0&&(e.lineWidth=K.grid.line.strokeWidth,e.strokeStyle=K.grid.line.stroke,w&&(0,a.FA)(e,{width:U,height:$,scale:se,axis:"x",values:L}),W&&(0,a.FA)(e,{width:U,height:$,scale:le,axis:"y",values:G})),"axes"===r&&(0,a.DZ)(e,{xScale:se,yScale:le,width:U,height:$,top:P,right:F,bottom:V,left:E,theme:K}),"areas"===r&&!0===q&&(e.save(),e.globalAlpha=O,oe.context(e),ae.forEach((function(r){e.fillStyle=r.color,e.beginPath(),oe(r.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===r&&(te.context(e),ae.forEach((function(r){e.strokeStyle=r.color,e.lineWidth=R,e.beginPath(),te(r.data.map((function(e){return e.position}))),e.stroke()}))),"points"===r&&!0===S&&M>0&&ue.forEach((function(r){e.fillStyle=r.color,e.beginPath(),e.arc(r.x,r.y,M/2,0,2*Math.PI),e.fill(),j>0&&(e.strokeStyle=r.borderColor,e.lineWidth=j,e.stroke())})),"mesh"===r&&!0===A&&((0,y.renderVoronoiToCanvas)(e,fe),re&&(0,y.renderVoronoiCellToCanvas)(e,fe,re.index)),"legends"===r){var i=ae.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();D.forEach((function(r){(0,s.as)(e,g({},r,{data:r.data||i,containerWidth:U,containerHeight:$,theme:K}))}))}}))}),[I,Q,J,x,K,te,ae,se,le,w,L,W,G,P,F,V,E,D,ue,S,M,re]);var pe=(0,n.useCallback)((function(e){var r=(0,t.P6)(I.current,e),i=r[0],n=r[1];if(!(0,t.zn)(Z.left,Z.top,U,$,i,n))return null;var o=de.find(i-Z.left,n-Z.top);return ue[o]}),[I,Z,U,$,de]),he=(0,l.lL)(),be=he.showTooltipFromEvent,ye=he.hideTooltip,ge=(0,n.useCallback)((function(e){var r=pe(e);ie(r),r?be((0,n.createElement)(_,{point:r}),e):ye()}),[pe,ie,be,ye,_]),me=(0,n.useCallback)((function(e){ye(),ie(null),re&&z&&z(re,e)}),[ye,ie,z]),xe=(0,n.useCallback)((function(e){if(X){var r=pe(e);r&&X(r,e)}}),[pe,X]);return(0,h.jsx)("canvas",{ref:I,width:Q*u,height:J*u,style:{width:Q,height:J,cursor:Y?"auto":"normal"},onMouseEnter:Y?ge:void 0,onMouseMove:Y?ge:void 0,onMouseLeave:Y?me:void 0,onClick:Y?xe:void 0})};$.propTypes=O,$.defaultProps=T;var Q=(0,t.li)($),J=(0,n.forwardRef)((function(e,r){return(0,h.jsx)(Q,g({},e,{canvasRef:r}))})),K=(0,n.forwardRef)((function(e,r){return(0,h.jsx)(t.d,{children:function(i){var n=i.width,t=i.height;return(0,h.jsx)(J,g({width:n,height:t},e,{ref:r}))}})}))}}]);