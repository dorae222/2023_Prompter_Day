"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2491],{382491:function(e,r,n){n.r(r),n.d(r,{Chord:function(){return re},ChordCanvas:function(){return ie},ResponsiveChord:function(){return ae},ResponsiveChordCanvas:function(){return ce},canvasDefaultProps:function(){return T},commonDefaultProps:function(){return L},computeArcPath:function(){return V},computeChordArcsAndRibbons:function(){return P},computeChordGenerators:function(){return F},computeChordLayout:function(){return S},computeRibbonPath:function(){return _},svgDefaultProps:function(){return w},useChord:function(){return q},useChordArcsAndRibbons:function(){return $},useChordGenerators:function(){return D},useChordLayout:function(){return H},useChordSelection:function(){return z},useCustomLayerProps:function(){return N}});var t=n(667294),o=n(543060),i=n(569680),a=n(449742),c=n(785893),l=n(649446),u=n(281472),s=n(810233),d=n(306078),b=Math.cos,f=Math.sin,v=Math.PI,g=v/2,p=2*v,h=Math.max;function m(e){return function(r,n){return e(r.source.value+r.target.value,n.source.value+n.target.value)}}var y=Array.prototype.slice;function A(e){return function(){return e}}var R=n(711108);function C(e){return e.source}function M(e){return e.target}function O(e){return e.radius}function x(e){return e.startAngle}function E(e){return e.endAngle}function k(){var e=C,r=M,n=O,t=x,o=E,i=null;function a(){var a,c=y.call(arguments),l=e.apply(this,c),u=r.apply(this,c),s=+n.apply(this,(c[0]=l,c)),d=t.apply(this,c)-g,v=o.apply(this,c)-g,p=s*b(d),h=s*f(d),m=+n.apply(this,(c[0]=u,c)),A=t.apply(this,c)-g,C=o.apply(this,c)-g;if(i||(i=a=(0,R.Z)()),i.moveTo(p,h),i.arc(0,0,s,d,v),d===A&&v===C||(i.quadraticCurveTo(0,0,m*b(A),m*f(A)),i.arc(0,0,m,A,C)),i.quadraticCurveTo(0,0,p,h),i.closePath(),a)return i=null,a+""||null}return a.radius=function(e){return arguments.length?(n="function"===typeof e?e:A(+e),a):n},a.startAngle=function(e){return arguments.length?(t="function"===typeof e?e:A(+e),a):t},a.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:A(+e),a):o},a.source=function(r){return arguments.length?(e=r,a):e},a.target=function(e){return arguments.length?(r=e,a):r},a.context=function(e){return arguments.length?(i=null==e?null:e,a):i},a}var B=n(957944);function j(){return j=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},j.apply(this,arguments)}function W(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}var G=(0,t.memo)((function(e){var r=e.arc;return(0,c.jsx)(a._5,{id:r.label,value:r.formattedValue,color:r.color,enableChip:!0})})),I=(0,t.memo)((function(e){var r=e.ribbon;return(0,c.jsx)(a.zI,{rows:[[(0,c.jsx)(a.Af,{color:r.source.color},"chip"),(0,c.jsx)("strong",{children:r.source.label},"id"),r.source.formattedValue],[(0,c.jsx)(a.Af,{color:r.target.color},"chip"),(0,c.jsx)("strong",{children:r.target.label},"id"),r.target.formattedValue]]})})),L={layers:["ribbons","arcs","labels","legends"],padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,colors:{scheme:"nivo"},arcOpacity:1,activeArcOpacity:1,inactiveArcOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:G,ribbonOpacity:.5,activeRibbonOpacity:.85,inactiveRibbonOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,legends:[],animate:!0,motionConfig:"gentle",role:"img"},w=j({},L,{ribbonBlendMode:"normal",ribbonTooltip:I}),T=j({},L,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),S=function(e){var r=e.padAngle;return function(){var e=0,r=null,n=null,t=null;function o(o){var i,a,c,l,u,s,b=o.length,f=[],v=(0,d.w6)(b),g=[],m=[],y=m.groups=new Array(b),A=new Array(b*b);for(i=0,u=-1;++u<b;){for(a=0,s=-1;++s<b;)a+=o[u][s];f.push(a),g.push((0,d.w6)(b)),i+=a}for(r&&v.sort((function(e,n){return r(f[e],f[n])})),n&&g.forEach((function(e,r){e.sort((function(e,t){return n(o[r][e],o[r][t])}))})),l=(i=h(0,p-e*b)/i)?e:p/b,a=0,u=-1;++u<b;){for(c=a,s=-1;++s<b;){var R=v[u],C=g[R][s],M=o[R][C],O=a,x=a+=M*i;A[C*b+R]={index:R,subindex:C,startAngle:O,endAngle:x,value:M}}y[R]={index:R,startAngle:c,endAngle:a,value:f[R]},a+=l}for(u=-1;++u<b;)for(s=u-1;++s<b;){var E=A[s*b+u],k=A[u*b+s];(E.value||k.value)&&m.push(E.value<k.value?{source:k,target:E}:{source:E,target:k})}return t?m.sort(t):m}return o.padAngle=function(r){return arguments.length?(e=h(0,r),o):e},o.sortGroups=function(e){return arguments.length?(r=e,o):r},o.sortSubgroups=function(e){return arguments.length?(n=e,o):n},o.sortChords=function(e){return arguments.length?(null==e?t=null:(t=m(e))._=e,o):t&&t._},o}().padAngle(r)},F=function(e){var r=e.width,n=e.height,t=e.innerRadiusRatio,o=e.innerRadiusOffset,i=[r/2,n/2],a=Math.min(r,n)/2,c=a*t,l=a*(t-o);return{center:i,radius:a,innerRadius:c,arcGenerator:(0,s.Z)().outerRadius(a).innerRadius(c),ribbonGenerator:k().radius(l)}},P=function(e){var r=e.chord,n=e.data,t=e.keys,o=e.getLabel,i=e.formatValue,a=e.getColor,c=r(n),l=c.groups.map((function(e){var r=j({},e,{id:t[e.index],formattedValue:i(e.value)});return j({},r,{label:o(r),color:a(r)})}));return{arcs:l,ribbons:c.map((function(e){var r=j({},e.source,{id:t[e.source.index],formattedValue:i(e.source.value)}),n=j({},e.target,{id:t[e.target.index],formattedValue:i(e.target.value)});return j({},e,{id:[r.id,n.id].sort().join("."),source:j({},r,{label:o(r),color:a(r)}),target:j({},n,{label:o(n),color:a(n)})})}))}},V=function(e){var r=e.startAngle,n=e.endAngle,t=e.arcGenerator;return(0,u.to)([r,n],(function(e,r){return t({startAngle:e,endAngle:r})}))},_=function(e){var r=e.sourceStartAngle,n=e.sourceEndAngle,t=e.targetStartAngle,o=e.targetEndAngle,i=e.ribbonGenerator;return(0,u.to)([r,n,t,o],(function(e,r,n,t){return i({source:{startAngle:Math.min(e,r),endAngle:Math.max(r,e)},target:{startAngle:Math.min(n,t),endAngle:Math.max(t,n)}})}))},H=function(e){var r=e.padAngle;return(0,t.useMemo)((function(){return S({padAngle:r})}),[r])},D=function(e){var r=e.width,n=e.height,o=e.innerRadiusRatio,i=e.innerRadiusOffset;return(0,t.useMemo)((function(){return F({width:r,height:n,innerRadiusRatio:o,innerRadiusOffset:i})}),[r,n,o,i])},$=function(e){var r=e.chord,n=e.getColor,o=e.keys,i=e.data,a=e.getLabel,c=e.formatValue;return(0,t.useMemo)((function(){return P({chord:r,data:i,keys:o,getLabel:a,formatValue:c,getColor:n})}),[r,n,o,i,a,c])},q=function(e){var r=e.data,n=e.keys,i=e.label,a=void 0===i?L.label:i,c=e.valueFormat,u=e.width,s=e.height,d=e.innerRadiusRatio,b=void 0===d?L.innerRadiusRatio:d,f=e.innerRadiusOffset,v=void 0===f?L.innerRadiusOffset:f,g=e.padAngle,p=void 0===g?L.padAngle:g,h=e.colors,m=void 0===h?L.colors:h,y=H({padAngle:p}),A=D({width:u,height:s,innerRadiusRatio:b,innerRadiusOffset:v}),R=A.center,C=A.radius,M=A.innerRadius,O=A.arcGenerator,x=A.ribbonGenerator,E=(0,t.useMemo)((function(){return(0,o.ji)(a)}),[a]),k=(0,o.O_)(c),B=(0,l.U)(m,"id"),j=$({chord:y,getColor:B,keys:n,data:r,getLabel:E,formatValue:k});return{center:R,chord:y,radius:C,innerRadius:M,arcGenerator:O,ribbonGenerator:x,getColor:B,arcs:j.arcs,ribbons:j.ribbons}},z=function(e){var r=e.arcOpacity,n=void 0===r?L.arcOpacity:r,o=e.activeArcOpacity,i=void 0===o?L.activeArcOpacity:o,a=e.inactiveArcOpacity,c=void 0===a?L.inactiveArcOpacity:a,l=e.ribbons,u=e.ribbonOpacity,s=void 0===u?L.ribbonOpacity:u,d=e.activeRibbonOpacity,b=void 0===d?L.activeRibbonOpacity:d,f=e.inactiveRibbonOpacity,v=void 0===f?L.inactiveRibbonOpacity:f,g=(0,t.useState)(null),p=g[0],h=g[1],m=(0,t.useState)(null),y=m[0],A=m[1],R=(0,t.useMemo)((function(){var e=[],r=[];return p&&(e.push(p.id),l.filter((function(e){return e.source.id===p.id||e.target.id===p.id})).forEach((function(e){r.push(e.id)}))),y&&(e.push(y.source.id),e.push(y.target.id),r.push(y.id)),{selectedArcIds:e,selectedRibbonIds:r}}),[p,y,l]),C=R.selectedArcIds.length>1||R.selectedRibbonIds.length>0,M=(0,t.useMemo)((function(){return function(e){return C?R.selectedArcIds.includes(e.id)?i:c:n}}),[C,R.selectedArcIds,n,i,c]),O=(0,t.useMemo)((function(){return function(e){return C?R.selectedRibbonIds.includes(e.id)?b:v:s}}),[C,R.selectedRibbonIds,s,b,v]);return j({currentArc:p,setCurrentArc:h,currentRibbon:y,setCurrentRibbon:A,hasSelection:C},R,{getArcOpacity:M,getRibbonOpacity:O})},N=function(e){var r=e.center,n=e.radius,o=e.arcs,i=e.arcGenerator,a=e.ribbons,c=e.ribbonGenerator;return(0,t.useMemo)((function(){return{center:r,radius:n,arcs:o,arcGenerator:i,ribbons:a,ribbonGenerator:c}}),[r,n,o,i,a,c])},Z=(0,t.memo)((function(e){var r=e.ribbon,n=e.ribbonGenerator,o=e.animatedProps,i=e.borderWidth,l=e.blendMode,s=e.isInteractive,d=e.setCurrent,b=e.onMouseEnter,f=e.onMouseMove,v=e.onMouseLeave,g=e.onClick,p=e.tooltip,h=(0,a.lL)(),m=h.showTooltipFromEvent,y=h.hideTooltip,A=(0,t.useMemo)((function(){if(s)return function(e){d(r),m((0,t.createElement)(p,{ribbon:r}),e),null==b||b(r,e)}}),[s,m,p,r,b,d]),R=(0,t.useMemo)((function(){if(s)return function(e){m((0,t.createElement)(p,{ribbon:r}),e),null==f||f(r,e)}}),[s,m,p,r,f]),C=(0,t.useMemo)((function(){if(s)return function(e){d(null),y(),null==v||v(r,e)}}),[s,y,r,v,d]),M=(0,t.useMemo)((function(){if(s&&g)return function(e){return null==g?void 0:g(r,e)}}),[s,r,g]);return(0,c.jsx)(u.animated.path,{"data-testid":"ribbon."+r.source.id+"."+r.target.id,d:_({sourceStartAngle:o.sourceStartAngle,sourceEndAngle:o.sourceEndAngle,targetStartAngle:o.targetStartAngle,targetEndAngle:o.targetEndAngle,ribbonGenerator:n}),fill:o.color,opacity:o.opacity,strokeWidth:i,stroke:o.borderColor,style:{mixBlendMode:l},onMouseEnter:A,onMouseMove:R,onMouseLeave:C,onClick:M})})),U=function(e,r){var n,t,i=e.source,a=e.target;if(i.startAngle<a.startAngle?(n=i,t=a):(n=a,t=i),r){var c=(0,o.Vp)(n),l=(0,o.Vp)(t);return{sourceStartAngle:c,sourceEndAngle:c,targetStartAngle:l,targetEndAngle:l}}return{sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:t.startAngle,targetEndAngle:t.endAngle}},J=(0,t.memo)((function(e){var r=e.ribbons,n=e.ribbonGenerator,t=e.borderWidth,i=e.borderColor,a=e.getOpacity,s=e.blendMode,d=e.isInteractive,b=e.setCurrent,f=e.onMouseEnter,v=e.onMouseMove,g=e.onMouseLeave,p=e.onClick,h=e.tooltip,m=(0,o.tf)(),y=m.animate,A=m.config,R=(0,o.Fg)(),C=(0,l.Bf)(i,R),M=(0,u.useTransition)(r,{keys:function(e){return e.id},initial:function(e){return j({},U(e,!1),{color:e.source.color,opacity:a(e),borderColor:C(e.source)})},from:function(e){return j({},U(e,!1),{color:e.source.color,opacity:0,borderColor:C(e.source)})},update:function(e){return j({},U(e,!1),{color:e.source.color,opacity:a(e),borderColor:C(e.source)})},leave:function(e){return j({},U(e,!1),{color:e.source.color,opacity:0,borderColor:C(e.source)})},expires:!0,config:A,immediate:!y});return(0,c.jsx)(c.Fragment,{children:M((function(e,r){return(0,c.jsx)(Z,{ribbon:r,ribbonGenerator:n,animatedProps:e,borderWidth:t,blendMode:s,setCurrent:b,isInteractive:d,tooltip:h,onMouseEnter:f,onMouseMove:v,onMouseLeave:g,onClick:p},r.id)}))})})),K=(0,t.memo)((function(e){var r=e.arc,n=e.animatedProps,o=e.borderWidth,i=e.arcGenerator,l=e.setCurrent,s=e.isInteractive,d=e.onMouseEnter,b=e.onMouseMove,f=e.onMouseLeave,v=e.onClick,g=e.tooltip,p=(0,a.lL)(),h=p.showTooltipFromEvent,m=p.hideTooltip,y=(0,t.useMemo)((function(){if(s)return function(e){l(r),h((0,t.createElement)(g,{arc:r}),e),null==d||d(r,e)}}),[s,h,g,r,d,l]),A=(0,t.useMemo)((function(){if(s)return function(e){h((0,t.createElement)(g,{arc:r}),e),null==b||b(r,e)}}),[s,h,g,r,b]),R=(0,t.useMemo)((function(){if(s)return function(e){l(null),m(),null==f||f(r,e)}}),[s,m,r,f,l]),C=(0,t.useMemo)((function(){if(s&&v)return function(e){return null==v?void 0:v(r,e)}}),[s,r,v]);return(0,c.jsx)(u.animated.path,{"data-testid":"arc."+r.id,d:V({startAngle:n.startAngle,endAngle:n.endAngle,arcGenerator:i}),fill:n.color,opacity:n.opacity,strokeWidth:o,stroke:n.borderColor,onMouseEnter:y,onMouseMove:A,onMouseLeave:R,onClick:C})})),Q=(0,t.memo)((function(e){var r=e.arcs,n=e.borderWidth,t=e.borderColor,i=e.getOpacity,a=e.arcGenerator,s=e.setCurrent,d=e.isInteractive,b=e.onMouseEnter,f=e.onMouseMove,v=e.onMouseLeave,g=e.onClick,p=e.tooltip,h=(0,o.tf)(),m=h.animate,y=h.config,A=(0,o.Fg)(),R=(0,l.Bf)(t,A),C=(0,u.useTransition)(r,{keys:function(e){return e.id},initial:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:i(e),borderColor:R(e)}},from:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:R(e)}},update:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:i(e),borderColor:R(e)}},leave:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:R(e)}},expires:!0,config:y,immediate:!m});return(0,c.jsx)(c.Fragment,{children:C((function(e,r){return(0,c.jsx)(K,{arc:r,arcGenerator:a,animatedProps:e,borderWidth:n,setCurrent:s,isInteractive:d,tooltip:p,onMouseEnter:b,onMouseMove:f,onMouseLeave:v,onClick:g},r.id)}))})})),X=(0,t.memo)((function(e){var r=e.arcs,n=e.radius,i=e.rotation,a=e.color,s=(0,o.tf)(),d=s.animate,b=s.config,f=(0,o.Fg)(),v=(0,l.Bf)(a,f),g=(0,t.useMemo)((function(){return r.map((function(e){var r=(0,o.Vp)(e),t=(0,o.$t)(n,r,i);return{id:e.id,label:e.label,x:t.x,y:t.y,rotation:t.rotate,color:v(e),textAnchor:t.align,dominantBaseline:t.baseline}}))}),[r,n,i,v]),p=(0,u.useTransition)(g,{keys:function(e){return e.id},initial:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},from:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},enter:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},update:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},expires:!0,config:b,immediate:!d});return(0,c.jsx)(c.Fragment,{children:p((function(e,r){return(0,c.jsx)(u.animated.text,{"data-testid":"label."+r.id,style:j({},f.labels.text,{pointerEvents:"none",fill:e.color}),transform:(0,u.to)([e.x,e.y,e.rotation],(function(e,r,n){return"translate("+e+", "+r+") rotate("+n+")"})),textAnchor:r.textAnchor,dominantBaseline:r.dominantBaseline,children:r.label},r.id)}))})})),Y=["isInteractive","animate","motionConfig","theme","renderWrapper"],ee=function(e){var r=e.data,n=e.keys,a=e.label,l=e.valueFormat,u=e.margin,s=e.width,d=e.height,b=e.innerRadiusRatio,f=void 0===b?w.innerRadiusRatio:b,v=e.innerRadiusOffset,g=void 0===v?w.innerRadiusOffset:v,p=e.padAngle,h=void 0===p?w.padAngle:p,m=e.layers,y=void 0===m?w.layers:m,A=e.colors,R=void 0===A?w.colors:A,C=e.arcBorderWidth,M=void 0===C?w.arcBorderWidth:C,O=e.arcBorderColor,x=void 0===O?w.arcBorderColor:O,E=e.arcOpacity,k=void 0===E?w.arcOpacity:E,B=e.activeArcOpacity,W=void 0===B?w.activeArcOpacity:B,G=e.inactiveArcOpacity,I=void 0===G?w.inactiveArcOpacity:G,L=e.arcTooltip,T=void 0===L?w.arcTooltip:L,S=e.ribbonBorderWidth,F=void 0===S?w.ribbonBorderWidth:S,P=e.ribbonBorderColor,V=void 0===P?w.ribbonBorderColor:P,_=e.ribbonBlendMode,H=void 0===_?w.ribbonBlendMode:_,D=e.ribbonOpacity,$=void 0===D?w.ribbonOpacity:D,Z=e.activeRibbonOpacity,U=void 0===Z?w.activeRibbonOpacity:Z,K=e.inactiveRibbonOpacity,Y=void 0===K?w.inactiveRibbonOpacity:K,ee=e.ribbonTooltip,re=void 0===ee?w.ribbonTooltip:ee,ne=e.enableLabel,te=void 0===ne?w.enableLabel:ne,oe=e.labelOffset,ie=void 0===oe?w.labelOffset:oe,ae=e.labelRotation,ce=void 0===ae?w.labelRotation:ae,le=e.labelTextColor,ue=void 0===le?w.labelTextColor:le,se=e.isInteractive,de=void 0===se?w.isInteractive:se,be=e.onArcMouseEnter,fe=e.onArcMouseMove,ve=e.onArcMouseLeave,ge=e.onArcClick,pe=e.onRibbonMouseEnter,he=e.onRibbonMouseMove,me=e.onRibbonMouseLeave,ye=e.onRibbonClick,Ae=e.legends,Re=void 0===Ae?w.legends:Ae,Ce=e.role,Me=void 0===Ce?w.role:Ce,Oe=e.ariaLabel,xe=e.ariaLabelledBy,Ee=e.ariaDescribedBy,ke=(0,o.Bs)(s,d,u),Be=ke.margin,je=ke.innerWidth,We=ke.innerHeight,Ge=ke.outerWidth,Ie=ke.outerHeight,Le=q({data:r,keys:n,label:a,valueFormat:l,width:je,height:We,innerRadiusRatio:f,innerRadiusOffset:g,padAngle:h,colors:R}),we=Le.center,Te=Le.radius,Se=Le.arcGenerator,Fe=Le.ribbonGenerator,Pe=Le.arcs,Ve=Le.ribbons,_e=z({arcOpacity:k,activeArcOpacity:W,inactiveArcOpacity:I,ribbons:Ve,ribbonOpacity:$,activeRibbonOpacity:U,inactiveRibbonOpacity:Y}),He=_e.setCurrentArc,De=_e.setCurrentRibbon,$e=_e.getArcOpacity,qe=_e.getRibbonOpacity,ze=N({center:we,radius:Te,arcs:Pe,arcGenerator:Se,ribbons:Ve,ribbonGenerator:Fe});if(Te<=0)return null;var Ne=Pe.map((function(e){return{id:e.id,label:e.label,color:e.color}})),Ze={ribbons:null,arcs:null,labels:null,legends:null};return y.includes("ribbons")&&(Ze.ribbons=(0,c.jsx)("g",{transform:"translate("+we[0]+", "+we[1]+")",children:(0,c.jsx)(J,{ribbons:Ve,ribbonGenerator:Fe,borderWidth:F,borderColor:V,getOpacity:qe,blendMode:H,setCurrent:De,isInteractive:de,onMouseEnter:pe,onMouseMove:he,onMouseLeave:me,onClick:ye,tooltip:re})},"ribbons")),y.includes("arcs")&&(Ze.arcs=(0,c.jsx)("g",{transform:"translate("+we[0]+", "+we[1]+")",children:(0,c.jsx)(Q,{arcs:Pe,arcGenerator:Se,borderWidth:M,borderColor:x,getOpacity:$e,setCurrent:He,isInteractive:de,onMouseEnter:be,onMouseMove:fe,onMouseLeave:ve,onClick:ge,tooltip:T})},"arcs")),y.includes("labels")&&te&&(Ze.labels=(0,c.jsx)("g",{transform:"translate("+we[0]+", "+we[1]+")",children:(0,c.jsx)(X,{arcs:Pe,radius:Te+ie,rotation:ce,color:ue})},"labels")),y.includes("legends")&&Re.length>0&&(Ze.legends=(0,c.jsx)(t.Fragment,{children:Re.map((function(e,r){return(0,c.jsx)(i.$6,j({},e,{containerWidth:je,containerHeight:We,data:Ne}),r)}))},"legends")),(0,c.jsx)(o.tM,{width:Ge,height:Ie,margin:Be,role:Me,ariaLabel:Oe,ariaLabelledBy:xe,ariaDescribedBy:Ee,children:y.map((function(e,r){var n;return"function"==typeof e?(0,c.jsx)(t.Fragment,{children:(0,t.createElement)(e,ze)},r):null!=(n=null==Ze?void 0:Ze[e])?n:null}))})},re=function(e){var r=e.isInteractive,n=void 0===r?w.isInteractive:r,t=e.animate,i=void 0===t?w.animate:t,a=e.motionConfig,l=void 0===a?w.motionConfig:a,u=e.theme,s=e.renderWrapper,d=W(e,Y);return(0,c.jsx)(o.W2,{animate:i,isInteractive:n,motionConfig:l,renderWrapper:s,theme:u,children:(0,c.jsx)(ee,j({isInteractive:n},d))})},ne=["theme","isInteractive","animate","motionConfig","renderWrapper"],te=function(e){var r=e.event,n=e.canvasEl,t=e.center,i=e.margin,a=e.radius,c=e.innerRadius,l=e.arcs,u=(0,o.P6)(n,r),s=u[0],d=u[1],b=i.left+t[0],f=i.top+t[1];return(0,B.oO)(b,f,a,c,l,s,d)},oe=function(e){var r=e.pixelRatio,n=void 0===r?T.pixelRatio:r,u=e.margin,s=e.data,d=e.keys,b=e.width,f=e.height,v=e.label,g=void 0===v?T.label:v,p=e.valueFormat,h=e.innerRadiusRatio,m=void 0===h?T.innerRadiusRatio:h,y=e.innerRadiusOffset,A=void 0===y?T.innerRadiusOffset:y,R=e.padAngle,C=void 0===R?T.padAngle:R,M=e.layers,O=void 0===M?T.layers:M,x=e.colors,E=void 0===x?T.colors:x,k=e.arcBorderWidth,B=void 0===k?T.arcBorderWidth:k,W=e.arcBorderColor,G=void 0===W?T.arcBorderColor:W,I=e.arcOpacity,L=void 0===I?T.arcOpacity:I,w=e.activeArcOpacity,S=void 0===w?T.activeArcOpacity:w,F=e.inactiveArcOpacity,P=void 0===F?T.inactiveArcOpacity:F,V=e.arcTooltip,_=void 0===V?T.arcTooltip:V,H=e.ribbonBorderWidth,D=void 0===H?T.ribbonBorderWidth:H,$=e.ribbonBorderColor,Z=void 0===$?T.ribbonBorderColor:$,U=e.ribbonOpacity,J=void 0===U?T.ribbonOpacity:U,K=e.activeRibbonOpacity,Q=void 0===K?T.activeRibbonOpacity:K,X=e.inactiveRibbonOpacity,Y=void 0===X?T.inactiveRibbonOpacity:X,ee=e.enableLabel,re=void 0===ee?T.enableLabel:ee,ne=e.labelOffset,oe=void 0===ne?T.labelOffset:ne,ie=e.labelRotation,ae=void 0===ie?T.labelRotation:ie,ce=e.labelTextColor,le=void 0===ce?T.labelTextColor:ce,ue=e.isInteractive,se=void 0===ue?T.isInteractive:ue,de=e.onArcMouseEnter,be=e.onArcMouseMove,fe=e.onArcMouseLeave,ve=e.onArcClick,ge=e.legends,pe=void 0===ge?T.legends:ge,he=(0,t.useRef)(null),me=(0,o.Bs)(b,f,u),ye=me.innerWidth,Ae=me.innerHeight,Re=me.outerWidth,Ce=me.outerHeight,Me=me.margin,Oe=q({data:s,keys:d,label:g,valueFormat:p,width:ye,height:Ae,innerRadiusRatio:m,innerRadiusOffset:A,padAngle:C,colors:E}),xe=Oe.center,Ee=Oe.radius,ke=Oe.innerRadius,Be=Oe.arcGenerator,je=Oe.ribbonGenerator,We=Oe.arcs,Ge=Oe.ribbons,Ie=z({arcOpacity:L,activeArcOpacity:S,inactiveArcOpacity:P,ribbons:Ge,ribbonOpacity:J,activeRibbonOpacity:Q,inactiveRibbonOpacity:Y}),Le=Ie.currentArc,we=Ie.setCurrentArc,Te=Ie.getArcOpacity,Se=Ie.getRibbonOpacity,Fe=(0,o.Fg)(),Pe=(0,l.Bf)(le,Fe),Ve=(0,l.Bf)(G,Fe),_e=(0,l.Bf)(Z,Fe),He=N({center:xe,radius:Ee,arcs:We,arcGenerator:Be,ribbons:Ge,ribbonGenerator:je});(0,t.useEffect)((function(){if(null!==he.current){he.current.width=Re*n,he.current.height=Ce*n;var e=he.current.getContext("2d");e.scale(n,n),e.fillStyle=Fe.background,e.fillRect(0,0,Re,Ce),Ee<=0||O.forEach((function(r){if("ribbons"===r&&(e.save(),e.translate(Me.left+xe[0],Me.top+xe[1]),je.context(e),Ge.forEach((function(r){e.save(),e.globalAlpha=Se(r),e.fillStyle=r.source.color,e.beginPath(),je(r),e.fill(),D>0&&(e.strokeStyle=_e(r.source),e.lineWidth=D,e.stroke()),e.restore()})),e.restore()),"arcs"===r&&(e.save(),e.translate(Me.left+xe[0],Me.top+xe[1]),Be.context(e),We.forEach((function(r){e.save(),e.globalAlpha=Te(r),e.fillStyle=r.color,e.beginPath(),Be(r),e.fill(),B>0&&(e.strokeStyle=Ve(r),e.lineWidth=B,e.stroke()),e.restore()})),e.restore()),"labels"===r&&!0===re&&(e.save(),e.translate(Me.left+xe[0],Me.top+xe[1]),e.font=Fe.labels.text.fontSize+"px "+(Fe.labels.text.fontFamily||"sans-serif"),We.forEach((function(r){var n=(0,o.Vp)(r),t=(0,o.$t)(Ee+oe,n,ae);e.save(),e.translate(t.x,t.y),e.rotate((0,o.Ht)(t.rotate)),e.textAlign=t.align,e.textBaseline=t.baseline,e.fillStyle=Pe(r),e.fillText(r.label,0,0),e.restore()})),e.restore()),"legends"===r){e.save(),e.translate(Me.left,Me.top);var n=We.map((function(e){return{id:e.id,label:e.label,color:e.color}}));pe.forEach((function(r){(0,i.as)(e,j({},r,{data:n,containerWidth:ye,containerHeight:Ae,theme:Fe}))})),e.restore()}"function"==typeof r&&r(e,He)}))}}),[he,ye,Ae,Re,Ce,Me,n,xe,Ee,Fe,O,We,Be,Te,B,Ve,Ge,je,Se,D,_e,re,oe,ae,Pe,pe,He]);var De=(0,a.lL)(),$e=De.showTooltipFromEvent,qe=De.hideTooltip,ze=(0,t.useCallback)((function(e){if(null!==he.current){var r=te({event:e,canvasEl:he.current,center:xe,margin:Me,radius:Ee,innerRadius:ke,arcs:We});r?(we(r),$e((0,t.createElement)(_,{arc:r}),e),!Le&&de&&de(r,e),be&&be(r,e),Le&&Le.id!==r.id&&fe&&fe(r,e)):(we(null),qe(),Le&&fe&&fe(Le,e))}}),[he,xe,Me,Ee,ke,We,we,Le,$e,qe,_,de,be,fe]),Ne=(0,t.useCallback)((function(){we(null),qe()}),[we,qe]),Ze=(0,t.useCallback)((function(e){if(null!==he.current&&ve){var r=te({event:e,canvasEl:he.current,center:xe,margin:Me,radius:Ee,innerRadius:ke,arcs:We});r&&ve(r,e)}}),[he,xe,Me,Ee,ke,We,ve]);return(0,c.jsx)("canvas",{ref:he,width:Re*n,height:Ce*n,style:{width:Re,height:Ce,cursor:se?"auto":"normal"},onMouseEnter:se?ze:void 0,onMouseMove:se?ze:void 0,onMouseLeave:se?Ne:void 0,onClick:se?Ze:void 0})},ie=function(e){var r=e.theme,n=e.isInteractive,t=void 0===n?T.isInteractive:n,i=e.animate,a=void 0===i?T.animate:i,l=e.motionConfig,u=void 0===l?T.motionConfig:l,s=e.renderWrapper,d=W(e,ne);return(0,c.jsx)(o.W2,{isInteractive:t,animate:a,motionConfig:u,theme:r,renderWrapper:s,children:(0,c.jsx)(oe,j({isInteractive:t},d))})},ae=function(e){return(0,c.jsx)(o.d,{children:function(r){var n=r.width,t=r.height;return(0,c.jsx)(re,j({},e,{width:n,height:t}))}})},ce=function(e){return(0,c.jsx)(o.d,{children:function(r){var n=r.width,t=r.height;return(0,c.jsx)(ie,j({},e,{width:n,height:t}))}})}}}]);